# Sparse Matrix CLI Tool

A small Node.js utility to load two sparse matrices from text files, perform addition, subtraction, or multiplication, and save the result.

## 📋 Prerequisites

- **Node.js** v14+  
- **npm** or **yarn**  
- Input files must follow this format:
  ```txt
  rows=NUMBER_OF_ROWS
  cols=NUMBER_OF_COLUMNS
  (rowIndex, colIndex, value)
  (rowIndex, colIndex, value)
  …
  ```  
  List only non-zero entries.

## 🗂 Project Structure

```
project-root/
├── code/
│   ├── SparseMatrix.js       ← Class for loading & storing a sparse matrix
│   ├── operations.js         ← addMatrices, subtractMatrices, multiplyMatrices
│   └── index.js              ← CLI: loads files, runs the operation, prints & saves
├── sample_inputs/
│   ├── matrixA.txt
│   └── matrixB.txt
├── output/
│   └── result.txt            ← Generated by the tool
└── package.json
```

## Installation

```bash
git clone <repo-url>
cd project-root/code
npm install readline-sync   # for the CLI prompt
```  

## Usage

From the `code/` folder run:

```bash
node index.js
```

You’ll see:

```
Matrix A Path: /…/sample_inputs/matrixA.txt
Matrix B Path: /…/sample_inputs/matrixB.txt
Choose operation (add / subtract / multiply):
```

Enter one of:
- `add` (or `+`)
- `subtract` (or `-`)
- `multiply` (or `*`)

The script prints the result, e.g.:

```
✅ Result:
rows=4
cols=3
(0,0,5)
(2,1,-7)
…
💾 Result saved to: /…/output/result.txt
🧮 Total non-zero elements: 6
```

## Core Modules

### 1. `SparseMatrix.js`

- **Constructor**:  
  ```js
  new SparseMatrix(filepath)
  // or
  new SparseMatrix({ rows: R, cols: C })
  ```  
- **Properties**:  
  - `.rows`, `.cols` — dimensions  
  - `.data` — `Map` keyed by `"row,col"`, value = non-zero entry  
- **Behavior**:  
  - If passed a file path, loads `rows=` and `cols=` lines and all `(r, c, val)` tuples.  
  - Throws an error on invalid format.

### 2. `operations.js`

Exports three functions:

```js
addMatrices(A, B)
subtractMatrices(A, B)
multiplyMatrices(A, B)
```

- **Addition / Subtraction**  
  - Require identical dimensions.  
  - `addMatrices` merges A’s entries with B’s, removing zeros.  
  - `subtractMatrices` negates B then calls `addMatrices`.

- **Multiplication**  
  - Requires `A.cols === B.rows`.  
  - For each non-zero `A[i,k]`, iterates over all columns `j` in B’s row `k`, uses `B.getElement(k,j)` (defaults to zero), and accumulates into result.

## Customizing

- **Change input files**: edit paths in `index.js`.  
- **Adjust output location**: modify `resultPath` in `index.js`.  
- **Error handling**: script throws on mismatches or bad formats.

## Example

Given `matrixA.txt`:
```txt
rows=3
cols=3
(0,0,1)
(1,2,5)
```

and `matrixB.txt`:
```txt
rows=3
cols=3
(0,0,2)
(1,2,-5)
```

Running `node index.js` + `add` yields:
```txt
rows=3
cols=3
(0,0,3)
```

## Demo

### Sample Input Files

**matrixA.txt**
```txt
rows=2
cols=2
(0,0,1)
(1,1,3)
```

**matrixB.txt**
```txt
rows=2
cols=2
(0,0,2)
(1,0,4)
```

### Running the Tool

```bash
cd code
node index.js
# You’ll see:
# Matrix A Path: /…/sample_inputs/matrixA.txt
# Matrix B Path: /…/sample_inputs/matrixB.txt
# Choose operation (add / subtract / multiply): add
#
# ✅ Result:
# rows=2
# cols=2
# (0,0,3)
# (1,0,4)
#
# Result saved to: ../output/result.txt
```

### Viewing Output

```bash
cat ../output/result.txt
# rows=2
# cols=2
# (0,0,3)
# (1,0,4)
```
